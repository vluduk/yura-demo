<div class="settings">
    <div class="settings__container">
        <h1 class="settings__title">Налаштування профілю</h1>

        <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="settings__form">
            <div class="settings__field">
                <label for="first_name">Ім'я</label>
                <input type="text" id="first_name" formControlName="first_name" placeholder="Ваше ім'я" />
            </div>

            <div class="settings__field">
                <label for="last_name">Прізвище</label>
                <input type="text" id="last_name" formControlName="last_name" placeholder="Ваше прізвище" />
            </div>

            <div class="settings__field">
                <label for="email">Email</label>
                <input type="email" id="email" formControlName="email" placeholder="example@mail.com" />
                <span class="settings__hint">Email не можна змінити</span>
            </div>

            <div class="settings__field">
                <label for="phone">Телефон</label>
                <input type="tel" id="phone" formControlName="phone" placeholder="+380..." />
            </div>

            <h2 class="settings__subtitle">Налаштування AI</h2>

            <div class="settings__field">
                <label for="preferred_language">Мова відповідей AI</label>
                <select id="preferred_language" formControlName="preferred_language" class="settings__select">
                    @for (lang of languageOptions; track lang.value) {
                        <option [value]="lang.value">{{ lang.label }}</option>
                    }
                </select>
                <span class="settings__hint">Оберіть мову, якою AI буде відповідати</span>
            </div>

            @if (successMessage()) {
            <div class="settings__success">
                <i class="fa-solid fa-check-circle"></i>
                {{ successMessage() }}
            </div>
            }

            <div class="settings__actions">
                <ui-button [label]="isLoading() ? 'Збереження...' : 'Зберегти зміни'" [type]="'primary'"
                    [size]="'medium'" [isDisabled]="isLoading() || settingsForm.invalid"
                    (click)="onSubmit()"></ui-button>
            </div>
        </form>
    </div>
</div>