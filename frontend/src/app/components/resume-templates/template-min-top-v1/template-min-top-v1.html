<div class="template" [style.transform]="'scale(' + scale() + ')'">
    <header class="template__header">
        <h1 class="header__name">{{ data().personal_info?.first_name }} {{ data().personal_info?.last_name }}</h1>

        <div class="header__contacts">
            @if (data().personal_info?.email) {
                <span class="contacts__item">
                    <i class="fa-solid fa-envelope"></i>
                    {{ data().personal_info?.email }}
                </span>
            }
            @if (data().personal_info?.phone) {
                <span class="contacts__item">
                    <i class="fa-solid fa-phone"></i>
                    {{ data().personal_info?.phone }}
                </span>
            }
            @if (data().personal_info?.city || data().personal_info?.country) {
                <span class="contacts__item">
                    <i class="fa-solid fa-location-dot"></i>
                    {{ data().personal_info?.city }}
                    @if (data().personal_info?.city && data().personal_info?.country) {
                        ,
                    }
                    {{ data().personal_info?.country }}
                </span>
            }
        </div>
    </header>

    @if (data().personal_info?.summary) {
        <section class="template__section">
            <h2 class="section__title">Про себе</h2>
            <p class="section__text">{{ data().personal_info?.summary }}</p>
        </section>
    }

    @if (data().experience && data().experience!.length > 0) {
        <section class="template__section">
            <h2 class="section__title">Досвід роботи</h2>
            <div class="section__list">
                @for (exp of data().experience; track exp.id) {
                    <div class="list__item">
                        <div class="item__header">
                            <span class="item__title">{{ exp.job_title }}</span>
                            <span class="item__date">
                                {{ exp.start_date }}
                                @if (exp.start_date) {
                                    —
                                }
                                {{ exp.is_current ? "теперішній час" : exp.end_date }}
                            </span>
                        </div>
                        <span class="item__subtitle">{{ exp.employer }}</span>
                        @if (exp.description) {
                            <p class="item__description">{{ exp.description }}</p>
                        }
                    </div>
                }
            </div>
        </section>
    }

    @if (data().education && data().education!.length > 0) {
        <section class="template__section">
            <h2 class="section__title">Освіта</h2>
            <div class="section__list">
                @for (edu of data().education; track edu.id) {
                    <div class="list__item">
                        <div class="item__header">
                            <span class="item__title">{{ edu.degree }}</span>
                            <span class="item__date">
                                {{ edu.start_date }}
                                @if (edu.start_date) {
                                    —
                                }
                                {{ edu.is_current ? "теперішній час" : edu.end_date }}
                            </span>
                        </div>
                        <span class="item__subtitle">{{ edu.institution }}</span>
                        @if (edu.field_of_study) {
                            <span class="item__field">{{ edu.field_of_study }}</span>
                        }
                    </div>
                }
            </div>
        </section>
    }

    @if (data().skills && data().skills!.length > 0) {
        <section class="template__section">
            <h2 class="section__title">Навички</h2>
            <div class="section__tags">
                @for (skill of data().skills; track skill.id) {
                    <span class="tags__item">{{ skill.name }}</span>
                }
            </div>
        </section>
    }

    @if (data().languages && data().languages!.length > 0) {
        <section class="template__section">
            <h2 class="section__title">Мови</h2>
            <div class="section__tags">
                @for (lang of data().languages; track lang.id) {
                    <span class="tags__item">{{ lang.language }} — {{ lang.proficiency }}</span>
                }
            </div>
        </section>
    }

    @if (data().extra_activities && data().extra_activities!.length > 0) {
        <section class="template__section">
            <h2 class="section__title">Додаткова активність</h2>
            <div class="section__list">
                @for (act of data().extra_activities; track act.id) {
                    <div class="list__item">
                        <div class="item__header">
                            <span class="item__title">{{ act.title }}</span>
                            <span class="item__date">
                                {{ act.start_date }}
                                @if (act.start_date) {
                                    —
                                }
                                {{ act.is_current ? "теперішній час" : act.end_date }}
                            </span>
                        </div>
                        <span class="item__subtitle">{{ act.organization }}</span>
                        @if (act.description) {
                            <p class="item__description">{{ act.description }}</p>
                        }
                    </div>
                }
            </div>
        </section>
    }
</div>
